"use strict";function initManualOptionsTable(l,n,i){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},c=jQuery,r=c("#chosen_field_wrapper"),d=".wcapf-form-field";function e(e){e.sortable({opacity:.8,revert:!1,cursor:"move",axis:"y",handle:".move-options-handler",placeholder:"widget-placeholder",update:function(e){f(c(e.target).closest(".wcapf-form-field"))}}).disableSelection()}var s=l+" .field-table-body-rows";function f(e){var a=e.find(n),e=e.find(s),t=[];e.find(".row-item").each(function(e,a){var a=c(a),l={};a.find("[data-name]").each(function(e,a){var t=c(a),a=t.attr("data-name");l[a]=t.val()}),t.push(l)});e=encodeURIComponent(JSON.stringify(t));a.val(e).trigger("change")}function t(e){var a=e.find(l);e.find(s).children().length<2&&a.removeClass("has-options")}e(r.find(s)),r.on("field_added",function(){e(c(r.find(s)))}),r.on("click",l+" .remove-option",function(){var e=c(this).closest(".row-item"),a=e.closest(d);t(a),e.remove(),f(a)}),r.on("click",l+" .clear-options",function(){var e=c(this).closest(d);e.find(s).empty(),t(e),f(e)}),r.on("click",l+" .add-option",function(){var e,a,t;jQuery("#tmpl-"+i).length&&(e=c(this).closest(d),a=wp.template(i)(o),t=e.find(l),e.find(s).append(a),f(e),r.trigger("new_option_added",[e]),t.hasClass("has-options")||t.addClass("has-options"))});var a=s+' input[type="text"]';r.on("input",a,function(){f(c(this).closest(d))});a=s+" select";r.on("change",a,function(){f(c(this).closest(d))}),r.on("trigger_options_table",function(e,a,t){a===l&&f(t)})}jQuery(document).ready(function(e){e=e("#chosen_field_wrapper");e.on("after_toggle_request",function(e,a,t,l){".wcapf-form-sub-field-display_type select"===a&&(a=l.find(".wcapf-form-sub-field-query_type"),["label","color","image"].includes(t)&&(l.find(".wcapf-form-sub-field-enable_multiple_filter input").is(":checked")?a.show():a.hide()))}),e.on("after_toggle_request",function(e,a,t,l){".wcapf-form-sub-field-enable_multiple_filter input"===a&&(a=l.find(".wcapf-form-sub-field-query_type"),l=l.find(".wcapf-form-sub-field-display_type select").val(),["label","color","image"].includes(l)&&("1"===t?a.show():a.hide()))})}),jQuery(document).ready(function(e){e=e("#chosen_field_wrapper");e.on("after_toggle_request",function(e,a,t,l){var n;".wcapf-form-sub-field-display_type select"===a&&(n=l.find(".hierarchical-fields"),a=l.find(".wcapf-form-sub-field-hierarchical").find("input").is(":checked"),l=l.find(".wcapf-form-sub-field-enable_hierarchy_accordion"),"checkbox"===t||"radio"===t?(n.show(),a?l.show():l.hide()):"select"===t||"multi-select"===t?(n.show(),l.hide()):n.hide())}),e.on("after_toggle_request",function(e,a,t,l){".wcapf-form-sub-field-hierarchical input"===a&&(a=l.find(".wcapf-form-sub-field-display_type select").val(),l=l.find(".wcapf-form-sub-field-enable_hierarchy_accordion"),"1"===t&&("checkbox"===a||"radio"===a)?l.show():l.hide())}),e.on("after_toggle_request",function(e,a,t,l){var n;".wcapf-form-sub-field-display_type select"===a&&(n=l.find(".wcapf-form-sub-field-chosen_no_results_message"),a=l.find(".wcapf-form-sub-field-all_items_label"),!(l=l.find(".wcapf-form-sub-field-use_chosen input").is(":checked"))||"select"!==t&&"multi-select"!==t?n.hide():n.show(),"radio"===t||"select"===t||"multi-select"===t&&l?a.show():a.hide())}),e.on("after_toggle_request",function(e,a,t,l){var n;".wcapf-form-sub-field-use_chosen input"===a&&(n=l.find(".wcapf-form-sub-field-chosen_no_results_message"),a=l.find(".wcapf-form-sub-field-all_items_label"),l=l.find(".wcapf-form-sub-field-display_type select").val(),"1"!==t||"select"!==l&&"multi-select"!==l?n.hide():n.show(),"1"===t&&"multi-select"===l||"radio"===l||"select"===l?a.show():a.hide())})}),jQuery(document).ready(function(c){var r=c("#chosen_field_wrapper"),d="[name]:not(.manual_options)",s={};function f(){var n,t,e=r.find("#field_data").attr("data-field-type");e&&(n={},r.find(d).each(function(){var e=c(this),a=e.attr("type"),t=e.attr("name"),l=e.val();("checkbox"!==a&&"radio"!==a||e.is(":checked"))&&(n[t]=l)}),t={},r.find(".manual_options").each(function(){var e=c(this),a=e.attr("name");t[a]=e.val()}),n.manual_options=t,s[e]=n)}function u(e){var a=r.find("#field_data").attr("data-field-type"),t=s[a],l=e.attr("name"),n=e.attr("type"),a=e.val();e.hasClass("manual_options")?((e=t.manual_options||{})[l]=a,t.manual_options=e):"checkbox"!==n&&"radio"!==n||r.find('[name="'+l+'"]').is(":checked")?t[l]=a:delete t[l]}f(),r.find("[name]").on("change",function(){u(c(this))}),c("#available_fields").on("change",'[name="_active_field"]',function(){var e,a,t,n,l=c(this),i=l.val(),o=l.attr("data-field-name");i&&(t="wcapf-form-field-"+i,jQuery("#tmpl-"+t).length&&(e=wp.template(t)(),a=r.find("#field_data"),l=r.find(".postbox-header h2"),t=r.find(".inside"),r.removeClass("hidden"),a.attr("data-field-type",i),l.html(o),t.html(e),i in s?(n=s[i=i],r.find(d).each(function(){var e=c(this),a=e.attr("type"),t=e.attr("name"),l=n[t];"checkbox"===a||"radio"===a?t in n?r.find('[name="'+t+'"][value="'+l+'"]').attr("checked","checked"):r.find('[name="'+t+'"]').removeAttr("checked"):e.val(l)}),"manual_options"in n&&(i=n.manual_options,c.each(i,function(e,a){e=r.find('[name="'+e+'"]');e.val(a);var t,i,o,a=JSON.parse(decodeURIComponent(a));a.length&&(t=e.attr("data-table"),i=e.attr("data-tmpl"),jQuery("#tmpl-"+i).length&&(e=r.find(t),o=e.find(".field-table-body-rows"),c.each(a,function(e,l){var a={},a=wp.template(i)(a=".manual-options-table"===t?{value:"",label:""}:a);o.append(a);var n=o.find(".row-item").last();n.find("[data-name]").each(function(){var e=c(this),a=e.attr("data-name"),t=l[a];e.val(t),"image_url"===a&&t&&(n.find(".wp-image-picker-container").addClass("active"),n.find("img").attr("src",t))})}),e.addClass("has-options")))}),i=r.find(".wcapf-form-field"),r.trigger("new_option_added",[i]))):f(),r.trigger("field_added"),r.find("[name]").on("change",function(){u(c(this))})))})}),jQuery(document).ready(function(e){var a=e("#chosen_field_wrapper");function t(e){var a=e.closest(".wcapf-form-field").find('.wcapf-form-sub-field-min_value input[type="text"]');e.is(":checked")?a.attr("disabled","disabled"):a.removeAttr("disabled")}function l(e){var a=e.closest(".wcapf-form-field").find('.wcapf-form-sub-field-max_value input[type="text"]');e.is(":checked")?a.attr("disabled","disabled"):a.removeAttr("disabled")}a.on("field_added",function(){a.find('.wcapf-form-sub-field-min_value_auto_detect input[type="checkbox"]').each(function(){t(e(this))})}),a.on("click",'.wcapf-form-sub-field-min_value_auto_detect input[type="checkbox"]',function(){t(e(this))}),a.on("field_added",function(){a.find('.wcapf-form-sub-field-max_value_auto_detect input[type="checkbox"]').each(function(){l(e(this))})}),a.on("click",'.wcapf-form-sub-field-max_value_auto_detect input[type="checkbox"]',function(){l(e(this))})}),jQuery(document).ready(function(n){var e,a;function t(e){var a=n(".settings-table-loading_image");e?a.show():a.hide()}function l(e){var a=n(".settings-table-pagination_container");e?a.show():a.hide()}function i(e){var a=".scroll-window-dependent-fields,.scroll-window-custom-element-input,.settings-table-scroll_to_top_offset";"none"===e?n(a).hide():"results"===e?(n(".scroll-window-dependent-fields, .settings-table-scroll_to_top_offset").show(),n(".scroll-window-custom-element-input").hide()):"custom"===e?(n(".scroll-window-dependent-fields, .settings-table-scroll_to_top_offset").show(),n(".scroll-window-custom-element-input").show()):n(a).show()}n("body").hasClass("wcapf-filter_page_wcapf-settings")&&(n(".upload-image-button").click(function(e){e.preventDefault();var e=n(this),t=e.closest(".media-upload"),e=e.attr("data-modal-title"),l=wp.media({title:e,multiple:!1}).open().on("select",function(){var e=l.state().get("selection").first().toJSON(),a=e.url;t.find(".image-id").val(e.id),t.find(".image-src").attr("src",a),t.removeClass("no-image")})}),n(".remove-image-button").on("click",function(e){e.preventDefault();e=n(this).closest(".media-upload");e.find(".image-id").val(""),e.find(".image-src").attr("src",""),e.addClass("no-image")}),e=!1,t(e=(a=n("#loading_animation")).is(":checked")?!0:e),a.on("change",function(){var e=!1;t(e=n(this).is(":checked")?!0:e)}),e=!1,l(e=(a=n("#enable_pagination_via_ajax")).is(":checked")?!0:e),a.on("change",function(){var e=!1;l(e=n(this).is(":checked")?!0:e)}),i((a=n("#scroll_window")).val()),a.on("change",function(){i(n(this).val())}))}),jQuery(document).ready(function(){initManualOptionsTable(".product-status-options-table",".wcapf-form-sub-field-product_status_options input","wcapf-product-status-option")}),jQuery(document).ready(function(c){var r=c("#chosen_field_wrapper"),a=[{handler:".wcapf-form-sub-field-value_type select",handlerType:"select",event:"change",dependant:[{selector:".input-type-text-fields",value:["text"]},{selector:".input-type-number-fields",value:["number"]},{selector:".input-type-date-fields",value:["date"]},{selector:".value-decimal-fields",value:["number"]}]},{handler:".wcapf-form-sub-field-display_type select",handlerType:"select",event:"change",dependant:[{selector:".wcapf-form-sub-field-query_type",value:["checkbox","multi-select"]},{selector:".wcapf-form-sub-field-all_items_label",value:["radio","select"]},{selector:".wcapf-form-sub-field-use_chosen",value:["select","multi-select"]},{selector:".wcapf-form-sub-field-use_category_images",value:["image"]},{selector:".wcapf-form-sub-field-enable_multiple_filter",value:["label","color","image"]},{selector:".column-group-custom_appearance",value:["color","image"]}]},{handler:".wcapf-form-sub-field-use_chosen input",handlerType:"checkbox",event:"change",dependant:[{selector:".wcapf-form-sub-field-chosen_no_results_message",value:["1"]}]},{handler:".wcapf-form-sub-field-hierarchical input",handlerType:"checkbox",event:"change"},{handler:".wcapf-form-sub-field-value_decimal input",handlerType:"checkbox",event:"change",dependant:[{selector:".wcapf-form-sub-field-value_decimal_places",value:["1"]}]},{handler:".wcapf-form-sub-field-get_options input",handlerType:"radio",event:"change",dependant:[{selector:".column-group-meta_key_manual_options",value:["manual_entry"]}]},{handler:".wcapf-form-sub-field-number_display_type select",handlerType:"select",event:"change",dependant:[{selector:".wcapf-form-sub-field-number_range_slider_display_values_as",value:["range_slider"]},{selector:".wcapf-form-sub-field-align_values_at_the_end",value:["range_slider"]},{selector:".wcapf-form-sub-field-number_range_query_type",value:["range_checkbox","range_multiselect"]},{selector:".wcapf-form-sub-field-number_range_select_all_items_label",value:["range_radio","range_select"]},{selector:".wcapf-form-sub-field-number_range_use_chosen",value:["range_select","range_multiselect"]},{selector:".wcapf-form-sub-field-number_range_enable_multiple_filter",value:["range_label"]},{selector:".wcapf-form-sub-field-number_range_show_count",value:["range_checkbox","range_radio","range_select","range_multiselect","range_label"]},{selector:".wcapf-form-sub-field-number_range_hide_empty",value:["range_checkbox","range_radio","range_select","range_multiselect","range_label"]},{selector:".number-decimal-fields",value:["range_slider","range_checkbox","range_radio","range_select","range_multiselect","range_label"]}]},{handler:".wcapf-form-sub-field-number_range_use_chosen input",handlerType:"checkbox",event:"change",dependant:[{selector:".wcapf-form-sub-field-number_range_chosen_no_results_message",value:["1"]}]},{handler:".wcapf-form-sub-field-number_get_options input",handlerType:"radio",event:"change",dependant:[{selector:".number-automatic-options",value:["automatically"]},{selector:".number-manual-options-table",value:["manual_entry"]}]},{handler:".wcapf-form-sub-field-date_display_type select",handlerType:"select",event:"change",dependant:[{selector:".date-to-ui-options",value:["input_date_range"]},{selector:".wcapf-form-sub-field-date_format",value:["input_date","input_date_range"]},{selector:".wcapf-form-sub-field-show_date_inputs_inline",value:["input_date_range"]},{selector:".date-picker-fields",value:["input_date","input_date_range"]},{selector:".wcapf-form-sub-field-time_period_query_type",value:["time_period_checkbox","time_period_multiselect"]},{selector:".wcapf-form-sub-field-time_period_select_all_items_label",value:["time_period_radio","time_period_select"]},{selector:".wcapf-form-sub-field-time_period_use_chosen",value:["time_period_select","time_period_multiselect"]},{selector:".wcapf-form-sub-field-time_period_enable_multiple_filter",value:["time_period_label"]},{selector:".wcapf-form-sub-field-time_period_show_count",value:["time_period_checkbox","time_period_radio","time_period_select","time_period_multiselect","time_period_label"]},{selector:".wcapf-form-sub-field-time_period_hide_empty",value:["time_period_checkbox","time_period_radio","time_period_select","time_period_multiselect","time_period_label"]}]},{handler:".wcapf-form-sub-field-time_period_use_chosen input",handlerType:"checkbox",event:"change",dependant:[{selector:".wcapf-form-sub-field-time_period_chosen_no_results_message",value:["1"]}]},{handler:".wcapf-form-sub-field-enable_soft_limit input",handlerType:"checkbox",event:"change",dependant:[{selector:".wcapf-form-sub-field-soft_limit",value:["1"]}]},{handler:".wcapf-form-sub-field-taxonomy select",handlerType:"select",event:"change"},{handler:".wcapf-form-sub-field-custom-taxonomy select",handlerType:"select",event:"change"},{handler:".wcapf-form-sub-field-meta_key select",handlerType:"select",event:"change"},{handler:".wcapf-form-sub-field-post_property select",handlerType:"select",event:"change"},{handler:".wcapf-form-sub-field-limit_options select",handlerType:"select",event:"change",dependant:[{selector:".wcapf-form-sub-field-parent_term",value:["child"]},{selector:".wcapf-form-sub-field-limit_values_by_id",value:["include"]},{selector:".wcapf-form-sub-field-exclude_values_id",value:["exclude"]},{selector:".wcapf-form-sub-field-include_user_roles",value:["user_roles"]}]},{handler:".wcapf-form-sub-field-enable_accordion input",handlerType:"checkbox",event:"change",dependant:[{selector:".wcapf-form-sub-field-accordion_default_state",value:["1"]}]},{handler:".wcapf-form-sub-field-enable_multiple_filter input",handlerType:"checkbox",event:"change"},{handler:".wcapf-form-sub-field-use_category_images input",handlerType:"checkbox",event:"change"},{handler:".wcapf-form-sub-field-number_range_enable_multiple_filter input",handlerType:"checkbox",event:"change"},{handler:".wcapf-form-sub-field-time_period_enable_multiple_filter input",handlerType:"checkbox",event:"change"},{handler:".wcapf-form-sub-field-enable_clear_all_button input",handlerType:"checkbox",event:"change",dependant:[{selector:".clear-all-button-fields-start",value:["1"]}]},{handler:".wcapf-form-sub-field-show_if_empty input",handlerType:"checkbox",event:"change",dependant:[{selector:".wcapf-form-sub-field-empty_filter_message",value:["1"]}]},{handler:".wcapf-form-sub-field-show_title input",handlerType:"checkbox",event:"change",dependant:[{selector:".wcapf-form-sub-field-move_clear_all_button_in_title",value:["1"]}]},{handler:".wcapf-form-sub-field-order_terms_by select",handlerType:"select",event:"change"},{handler:".wcapf-form-sub-field-active_filters_layout input",handlerType:"radio",event:"change",dependant:[{selector:".simple-layout-soft-fields-start",value:["simple"]},{selector:".extended-layout-soft-fields-start",value:["extended"]}]},{handler:".wcapf-form-sub-field-enable_soft_limit_for_extended_layout input",handlerType:"checkbox",event:"change",dependant:[{selector:".wcapf-form-sub-field-soft_limit_for_extended_layout",value:["1"]}]},{handler:".wcapf-form-sub-field-enable_tooltip input",handlerType:"checkbox",event:"change",dependant:[{selector:".wcapf-form-sub-field-show_count_in_tooltip",value:["1"]},{selector:".wcapf-form-sub-field-tooltip_position",value:["1"]}]}];function n(e,a,t){var l=a.closest(".wcapf-form-field"),n=e.handler,i=e.handlerType,e=e.dependant,o=t;"checkbox"===i&&(o=a.is(":checked")?"1":"0"),"radio"===i&&(o=l.find(n+":checked").val()),c.each(e,function(e,a){var t=l.find(a.selector);a.value.includes(o)?t.show():t.hide()}),r.trigger("after_toggle_request",[n,o,l])}function i(t,e,a){var l;null===e?(l=t.handler,l=c(l),c.each(l,function(){var e=c(this),a=e.val();n(t,e,a)})):n(t,e,a)}function e(e){var n=0<arguments.length&&void 0!==e&&e;c.each(a,function(e,t){var a=t.handler,l=t.event;i(t,null,null),n&&(r.on(l,a,function(){var e=c(this),a=c(this).val();i(t,e,a)}),c(r).hasClass("loaded")||(c(r).addClass("loaded"),r.trigger("field_added")))})}e(!0),r.on("field_added",function(){e()})});